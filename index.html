<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>üêæ Felinator 1.0 ‚Äî Simulador de Gen√©tica Felina</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;700&family=Poppins:wght@600&display=swap" rel="stylesheet">
<style>

/* =============================== */
/* VARI√ÅVEIS E PALETAS DO SISTEMA */
/* =============================== */

:root{
  --bg-light:#F6F7FB;
  --card-light:#FFFFFF;
  --text-light:#222;
  --accent1-light:#6A5ACD;
  --accent2-light:#2DD4BF;

  --bg-dark:#0F1115;
  --card-dark:#161A22;
  --text-dark:#E9EEF7;
  --accent1-dark:#7C4DFF;
  --accent2-dark:#2DD4BF;

  --eye-blue:#3B82F6;
  --eye-green:#22C55E;

  --page-bg-light:#F6F7FB;
  --page-bg-dark:#020617;

  --hero-grad1-light:#F9E7D0;
  --hero-grad2-light:#E7E4FF;
  --hero-grad1-dark:#111827;
  --hero-grad2-dark:#020617;

  --mode-aluno-grad1:#F9E7D0;
  --mode-aluno-grad2:#F4B693;

  --mode-prof-grad1:#E7E0FF;
  --mode-prof-grad2:#C4B5FD;

  --cat-card-grad1:#F9E7D0;
  --cat-card-grad2:#C49A6C;

  --dna-glow-light:rgba(244,182,147,0.55);
  --dna-glow2-light:rgba(196,154,108,0.5);

  --dna-glow-dark:rgba(245,158,11,0.45);
  --dna-glow2-dark:rgba(161,98,43,0.55);

  --chip-bg-light:rgba(248,250,252,.9);
  --chip-bg-dark:rgba(15,23,42,.9);
}

/* ========================================= */
/* PALETAS FORTES (warm, bicolor, calico...) */
/* ========================================= */

body[data-palette="warm"]{
  --page-bg-light:#FEF2F2;
  --hero-grad1-light:#FCE7F3;
  --hero-grad2-light:#FED7AA;

  --mode-aluno-grad1:#F9A8D4;
  --mode-aluno-grad2:#FB923C;

  --mode-prof-grad1:#C4B5FD;
  --mode-prof-grad2:#FB7185;
}

body[data-palette="bicolor"]{
  --page-bg-light:#ECFEFF;
  --hero-grad1-light:#A5F3FC;
  --hero-grad2-light:#22C55E;

  --mode-aluno-grad1:#22C55E;
  --mode-aluno-grad2:#06B6D4;

  --mode-prof-grad1:#8B5CF6;
  --mode-prof-grad2:#22C55E;
}

body[data-palette="calico"]{
  --page-bg-light:#FEF3C7;
  --hero-grad1-light:#FDE68A;
  --hero-grad2-light:#F97316;

  --mode-aluno-grad1:#FB923C;
  --mode-aluno-grad2:#FACC15;

  --mode-prof-grad1:#F97316;
  --mode-prof-grad2:#EF4444;
}

/* =============================== */
/* ESTILOS GERAIS DO SISTEMA */
/* =============================== */

*{box-sizing:border-box}

body{
  margin:0;
  font-family:Nunito,system-ui,-apple-system,Segoe UI,Roboto,Arial;
  background:var(--page-bg-light);
  color:var(--text-light);
  transition:.3s;
}

header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  background:linear-gradient(90deg,var(--accent1-light),var(--accent2-light));
  color:white;
  padding:14px 18px;
  font-family:Poppins;
  font-weight:600;
}

.header-logo img{
  height:95px;
  width:auto;
}

/* ====================== */
/* HERO / TELA INICIAL */
/* ====================== */

#inicio.hero-warm{
  min-height:calc(100vh - 68px);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:32px 16px 40px;
  position:relative;
  overflow:hidden;
}

/* FUNDO COM GRADIENTES E DNA */
body:not(.dark) #inicio.hero-warm{
  background:
    radial-gradient(circle at 0% 0%, var(--dna-glow-light) 0, transparent 52%),
    radial-gradient(circle at 100% 100%, var(--dna-glow2-light) 0, transparent 52%),
    linear-gradient(135deg,var(--hero-grad1-light) 0,var(--page-bg-light) 45%,var(--hero-grad2-light) 100%);
}

/* ============================ */
/* HERO CARDS, COLUNAS ETC */
/* ============================ */

.hero-shell{max-width:1080px;width:100%;z-index:1;position:relative;}

.hero-main-card{
  display:grid;
  grid-template-columns:minmax(0,1.4fr) minmax(0,1.1fr);
  gap:28px;
  border-radius:28px;
  padding:24px;
  background:rgba(255,255,255,0.9);
  box-shadow:0 24px 60px rgba(15,23,42,.35);
  backdrop-filter:blur(12px);
}

.hero-col-left{display:flex;flex-direction:column;gap:14px}

.hero-title{
  font-family:Poppins;
  font-size:clamp(26px,3.2vw,34px);
  margin:0;
}

.hero-sub{margin:0;font-size:15px;max-width:470px;color:#4b5563}

/* ========================== */
/* BOT√ïES DO MODO ALUNO/PROF */
/* ========================== */

.mode-card{
  border:none;
  border-radius:20px;
  padding:14px;
  display:flex;
  gap:10px;
  cursor:pointer;
  box-shadow:0 14px 32px rgba(15,23,42,.25);
  transition:.18s;
}

.mode-card:hover{transform:translateY(-3px)}

.mode-aluno-card{
  background:linear-gradient(135deg,var(--mode-aluno-grad1),var(--mode-aluno-grad2));
}
.mode-prof-card{
  background:linear-gradient(135deg,var(--mode-prof-grad1),var(--mode-prof-grad2));
}

/* ========================== */
/* CARD DO GATO + DNA */
/* ========================== */

.hero-col-right{display:flex;flex-direction:column;gap:10px}

.hero-cat-card{
  padding:14px;
  border-radius:22px;
  background:
    radial-gradient(circle at 20% 20%, var(--eye-blue) 0, transparent 55%),
    radial-gradient(circle at 80% 80%, var(--eye-green) 0, transparent 55%),
    linear-gradient(135deg,var(--cat-card-grad1),var(--cat-card-grad2));
  position:relative;
  overflow:hidden;
  box-shadow:0 18px 42px rgba(15,23,42,.35);
}

.hero-cat-main{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:14px;
}

.hero-dna-img{
  width:150px;
  height:auto;
  border-radius:12px;
  object-fit:cover;
}
</style>
</head>

<body data-palette="bicolor">

<header>
  <div class="header-logo">
    <img src="img/Logo-Felinator.svg" alt="Logo Felinator">
  </div>

  <div class="header-actions">
    <button id="themeToggle" class="theme-toggle" title="Alternar tema">üåô</button>
    <button id="menuToggle" class="menu-toggle" title="Abrir menu">‚ò∞</button>
  </div>
</header>

<!-- ============================ -->
<!-- MENU LATERAL -->
<!-- ============================ -->

<div id="sideOverlay" class="side-overlay"></div>

<aside id="sideMenu" class="side-menu">
  <div class="side-menu-header">
    <div class="side-menu-title">
      <span>üé®</span> <span>Paletas Gen√©ticas</span>
    </div>
    <button id="sideClose" class="side-menu-close">‚úï</button>
  </div>

  <div class="side-menu-section">
    <h4>Paletas de cores</h4>
    <div class="palette-list" id="paletteList">
      <!-- Bot√µes de paleta (iguais ao arquivo original) -->
      <button class="palette-item" data-palette="warm">
        <span class="name">Aurora Quente</span>
      </button>
      <button class="palette-item" data-palette="bicolor">
        <span class="name">Neon Mint</span>
      </button>
      <button class="palette-item" data-palette="calico">
        <span class="name">Magma Solar</span>
      </button>
    </div>
  </div>

  <div class="side-menu-section">
    <h4>Tema</h4>
    <button id="themeToggleSide">Alternar claro/escuro</button>
  </div>

  <div class="side-menu-section">
    <h4>Sobre</h4>
    <p>Felinator √© um simulador de gen√©tica felina para uso educacional.</p>
  </div>
</aside>

<!-- ============================ -->
<!-- TELA INICIAL -->
<!-- ============================ -->

<div id="inicio" class="hero-warm">
  <div class="hero-shell">
    <div class="hero-main-card">

      <div class="hero-col-left">
        <h1 class="hero-title">Explore cruzamentos de gatos com imers√£o gen√©tica.</h1>
        <p class="hero-sub">Veja como os genes moldam fen√≥tipos felinos.</p>

        <div class="hero-modes">

          <button class="mode-card mode-aluno-card" id="btnAluno">
            <div class="mode-icon-pill">üêæ</div>
            <div class="mode-text-block">
              <strong>Modo Aluno</strong>
              <small>Teste seus conhecimentos.</small>
            </div>
          </button>

          <button class="mode-card mode-prof-card" id="btnProfessor">
            <div class="mode-icon-pill">üß™</div>
            <div class="mode-text-block">
              <strong>Modo Professor</strong>
              <small>Ferramentas did√°ticas completas.</small>
            </div>
          </button>

        </div>
      </div>

      <div class="hero-col-right">
        <div class="hero-cat-card">
          <div class="hero-cat-main">
            <div class="hero-cat-text">
              <h3>Visual de laborat√≥rio felino üß¨üê±</h3>
              <p>O Felinator calcula probabilidades automaticamente.</p>
            </div>
            <img class="hero-dna-img" src="img/DNA-digital-illustration.jpg">
          </div>
        </div>
      </div>

    </div>
  </div>
</div>

<!-- ============================ -->
<!-- AUTENTICA√á√ÉO DO PROFESSOR -->
<!-- ============================ -->

<div class="container" id="authProf" style="display:none">
  <div class="card center card-prof">
    <h3>üîê Verifica√ß√£o de Professor</h3>

    <input type="email" id="emailProf" placeholder="Seu e-mail">

    <input type="password" id="senhaProf" placeholder="C√≥digo (ex: MIAU-2025)">

    <div style="margin-top:10px">
      <button id="entrarProf" class="btn-big">Entrar</button>
      <button id="gerarCodigo">Gerar c√≥digo do dia</button>
      <button class="voltar" id="voltarAuth">‚¨ÖÔ∏è Voltar</button>
    </div>

    <p id="erroAuth" style="display:none;color:#ef4444"></p>
  </div>
</div>

<!-- ============================ -->
<!-- MODO ALUNO -->
<!-- ============================ -->

<div class="container" id="modoAluno" style="display:none">

  <div class="card card-aluno">
    <h3>üéÆ Modo Aluno</h3>

    <div class="row">
      <div>
        <div>Gato A</div>
        <select id="tipoAAluno"></select>
      </div>
      <div>
        <div>Gato B</div>
        <select id="tipoBAluno"></select>
      </div>
    </div>

    <button id="btnSorteAluno">Surpreenda-me üé≤</button>

    <div class="question-box">
      <p>Escolha o filhote:</p>
      <div id="opcoesAluno" class="options-grid"></div>
    </div>

    <button id="btnResultadoAluno" class="btn-big">Ver Resultado</button>
    <button class="voltar" id="voltarAluno">‚¨ÖÔ∏è Voltar</button>
  </div>

  <div class="card card-aluno" id="cardResultadoAluno" style="display:none">
    <div class="result-box">
      <img id="imgResultadoAluno">
      <div>
        <div class="title" id="nomeResultadoAluno"></div>
        <div class="curio" id="feedbackAluno"></div>
        <div class="professor" id="explicacaoAluno"></div>
      </div>
    </div>
  </div>
</div>

<!-- ============================ -->
<!-- MODO PROFESSOR -->
<!-- ============================ -->

<div class="container" id="modoProfessor" style="display:none">

  <div class="card card-prof">
    <h3>üß™ Modo Professor</h3>

    <div class="row">
      <div>
        <div>Gato A</div>
        <select id="tipoAProf"></select>
      </div>
      <div>
        <div>Gato B</div>
        <select id="tipoBProf"></select>
      </div>
    </div>

    <button id="btnCruzarProf" class="btn-big">Cruzar üß¨</button>
    <button class="voltar" id="voltarProf">‚¨ÖÔ∏è Voltar</button>
  </div>

  <div class="card card-prof" id="cardResultadoProf" style="display:none">
    <div class="result-box">
      <img id="imgResultadoProf">
      <div>
        <div class="title" id="nomeResultadoProf"></div>
        <div class="curio" id="curiosidadeProf"></div>
        <div class="professor" id="explicacaoProf"></div>
      </div>
    </div>
  </div>

</div>

<!-- ============================ -->
<!-- √ÅUDIO -->
<!-- ============================ -->

<audio id="meow" preload="auto" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_8bcd3f1d8a.mp3?filename=cat-meow-14536.mp3"></audio>

<!-- ============================ -->
<!-- JAVASCRIPT FINAL OTIMIZADO -->
<!-- ============================ -->

<script>

/* ===========================
   FUN√á√ïES GLOBAIS DE NAVEGA√á√ÉO
   =========================== */

function hideInicio(){
  const inicio = document.getElementById('inicio');
  inicio.style.visibility = 'hidden';
  inicio.style.height = '0';
  inicio.style.minHeight = '0';
  inicio.style.padding = '0';
}

function showInicio(){
  const inicio = document.getElementById('inicio');
  inicio.style.visibility = 'visible';
  inicio.style.height = '';
  inicio.style.minHeight = '';
  inicio.style.padding = '';
}

/* ===========================
   DADOS DO JOGO (mantidos)
   =========================== */

const TIPOS=['S√≥lida','Bicolor','Tricolor','Tabby (Tigrado)','Point','Arlequim','Van'];

/* imagens manter igual ao seu arquivo original */
const IMG = {
  'S√≥lida': ['img/solida-filhote-1.jpg','img/solida-filhote-2.jpg','img/solida-filhote-3.jpg'],
  'Tabby (Tigrado)': ['img/tigrado-filhote-1.jpg','img/tigrado-filhote-2.jpg'],
  'Tricolor': ['img/calico-filhote.jpg'],
  'Van': ['img/van-filhote.jpg'],
  'Bicolor': ['img/gato-bicolor-1.jpg','img/gato-bicolor-2.jpg'],
  'Point': ['img/gato-siames-filhote.jpg'],
  'Arlequim': ['img/gato-arlequim-filhote.jpg']
};

function imagemAleatoria(tipo){
  const lista = IMG[tipo];
  return lista[Math.floor(Math.random()*lista.length)];
}

const EXPLICACOES={
  'S√≥lida':'O gene que cria desenhos est√° inativo.',
  'Bicolor':'O gene branco bloqueia pigmento em √°reas.',
  'Tricolor':'Ligado ao cromossomo X.',
  'Tabby (Tigrado)':'Listras v√™m de pelos com faixas alternadas.',
  'Point':'Pigmenta√ß√£o ativada em √°reas frias.',
  'Arlequim':'Muito branco com manchas grandes.',
  'Van':'Quase todo branco.'
};

const CURIOS={
  'S√≥lida':'Agouti (A) desligado ‚Üí cor uniforme.',
  'Bicolor':'Gene S cria √°reas sem cor.',
  'Tricolor':'Por ser ligado ao X, ocorre quase s√≥ em f√™meas.',
  'Tabby (Tigrado)':'A √© respons√°vel pelo padr√£o listrado.',
  'Point':'O gene sens√≠vel √† temperatura d√° o padr√£o siames.',
  'Arlequim':'Intermedi√°rio entre bicolor e van.',
  'Van':'Cor s√≥ em cabe√ßa e cauda.'
};

/* distribui√ß√£o simplificada igual ao seu arquivo */
const PROB_DISTR={
  'S√≥lida|S√≥lida':[ {tipo:'S√≥lida',prob:1} ],
  'S√≥lida|Bicolor':[ {tipo:'S√≥lida',prob:0.5},{tipo:'Bicolor',prob:0.5} ],
  'Tricolor|Tricolor':[ {tipo:'Tricolor',prob:1} ]
};

function key(a,b){return a+'|'+b;}

function escolherPorProb(dist){
  const r=Math.random();
  let ac=0;
  for(const d of dist){
    ac+=d.prob;
    if(r<=ac) return d.tipo;
  }
  return dist[dist.length-1].tipo;
}

function tipoMaisProvavel(a,b){
  const dist=PROB_DISTR[key(a,b)] || PROB_DISTR[key(b,a)];
  if(!dist) return a;
  let best=dist[0];
  for(const d of dist){ if(d.prob>best.prob) best=d; }
  return best.tipo;
}

function resultadoTipo(a,b){
  const dist=PROB_DISTR[key(a,b)] || PROB_DISTR[key(b,a)];
  if(!dist) return Math.random()<0.5?a:b;
  return escolherPorProb(dist);
}

/* =========================== */
/* CARREGA SELECTS */
/* =========================== */

function preencherSelects(a,b){
  TIPOS.forEach(t=>{
    const opA=document.createElement('option');
    opA.value=t; opA.textContent=t;
    a.appendChild(opA);

    const opB=document.createElement('option');
    opB.value=t; opB.textContent=t;
    b.appendChild(opB);
  });
}

preencherSelects(document.getElementById('tipoAAluno'),document.getElementById('tipoBAluno'));
preencherSelects(document.getElementById('tipoAProf'),document.getElementById('tipoBProf'));

/* =========================== */
/* MODO ALUNO */
/* =========================== */

let respostaCorreta=null;
let respostaJogador=null;

function gerarOpcoesAluno(){
  const a=document.getElementById('tipoAAluno').value;
  const b=document.getElementById('tipoBAluno').value;
  respostaCorreta=tipoMaisProvavel(a,b);

  const conjunto=new Set();
  conjunto.add(respostaCorreta);
  while(conjunto.size<4){
    conjunto.add(TIPOS[Math.floor(Math.random()*TIPOS.length)]);
  }

  const lista=Array.from(conjunto).sort(()=>Math.random()-0.5);
  const area=document.getElementById('opcoesAluno');
  area.innerHTML='';

  lista.forEach((tipo,idx)=>{
    const btn=document.createElement('button');
    btn.type='button';
    btn.className='option-btn';
    btn.dataset.tipo=tipo;
    btn.innerHTML=`<span class="letter">${['A','B','C','D'][idx]}</span> <span>${tipo}</span>`;
    btn.onclick=()=>{
      document.querySelectorAll('.option-btn').forEach(b=>b.classList.remove('selected'));
      btn.classList.add('selected');
      respostaJogador=tipo;
    };
    area.appendChild(btn);
  });
}

document.getElementById('tipoAAluno').onchange=gerarOpcoesAluno;
document.getElementById('tipoBAluno').onchange=gerarOpcoesAluno;

document.getElementById('btnSorteAluno').onclick=()=>{
  const a=document.getElementById('tipoAAluno');
  const b=document.getElementById('tipoBAluno');
  a.value=TIPOS[Math.floor(Math.random()*TIPOS.length)];
  b.value=TIPOS[Math.floor(Math.random()*TIPOS.length)];
  gerarOpcoesAluno();
};

document.getElementById('btnResultadoAluno').onclick=()=>{
  if(!respostaJogador){ alert("Escolha uma alternativa!"); return; }

  const a=document.getElementById('tipoAAluno').value;
  const b=document.getElementById('tipoBAluno').value;

  const tipoEsperado=respostaCorreta;
  const acertou=(respostaJogador===tipoEsperado);

  document.getElementById('nomeResultadoAluno').textContent="Resultado: "+tipoEsperado;
  document.getElementById('feedbackAluno').textContent=acertou?"Acertou!":"Errou!";
  document.getElementById('explicacaoAluno').textContent=EXPLICACOES[tipoEsperado];
  document.getElementById('imgResultadoAluno').src=imagemAleatoria(tipoEsperado);

  document.getElementById('cardResultadoAluno').style.display='block';

  document.getElementById('meow').play().catch(()=>{});
};

/* =========================== */
/* MODO PROFESSOR */
/* =========================== */

document.getElementById('btnCruzarProf').onclick=()=>{
  const a=document.getElementById('tipoAProf').value;
  const b=document.getElementById('tipoBProf').value;

  const tipo=resultadoTipo(a,b);

  document.getElementById('nomeResultadoProf').textContent="Resultado: "+tipo;
  document.getElementById('curiosidadeProf').textContent=CURIOS[tipo];
  document.getElementById('explicacaoProf').textContent=EXPLICACOES[tipo];
  document.getElementById('imgResultadoProf').src=imagemAleatoria(tipo);

  document.getElementById('cardResultadoProf').style.display='block';

  document.getElementById('meow').play().catch(()=>{});
};

/* =========================== */
/* AUTENTICA√á√ÉO DO PROFESSOR */
/* =========================== */

document.getElementById('btnProfessor').onclick=()=>{
  hideInicio();
  document.getElementById('authProf').style.display='block';
};

document.getElementById('voltarAuth').onclick=()=>{
  document.getElementById('authProf').style.display='none';
  showInicio();
};

document.getElementById('entrarProf').onclick=()=>{
  const email=document.getElementById('emailProf').value.trim();
  const senha=document.getElementById('senhaProf').value.trim();
  const erro=document.getElementById('erroAuth');

  erro.style.display='none';

  if(!email || !email.includes('@')){
    erro.textContent="E-mail inv√°lido";
    erro.style.display='block';
    return;
  }

  const hoje=new Date();
  const codigoDia="PROF"+(hoje.getDate()+hoje.getMonth()+hoje.getFullYear());

  if(senha==="MIAU-2025" || senha===codigoDia){
    document.getElementById('authProf').style.display='none';
    hideInicio();
    document.getElementById('modoProfessor').style.display='block';
  } else {
    erro.textContent="C√≥digo incorreto";
    erro.style.display='block';
  }
};

/* gerar c√≥digo */
document.getElementById('gerarCodigo').onclick=()=>{
  const h=new Date();
  alert("C√≥digo do dia: PROF"+(h.getDate()+h.getMonth()+h.getFullYear()));
};

/* =========================== */
/* BOT√ïES DE NAVEGA√á√ÉO */
/* =========================== */

document.getElementById('btnAluno').onclick=()=>{
  hideInicio();
  document.getElementById('modoAluno').style.display='block';
  gerarOpcoesAluno();
};

document.getElementById('voltarAluno').onclick=()=>{
  document.getElementById('modoAluno').style.display='none';
  showInicio();
};

document.getElementById('voltarProf').onclick=()=>{
  document.getElementById('modoProfessor').style.display='none';
  showInicio();
};

/* =========================== */
/* TEMA E PALETAS */
/* =========================== */

function setDark(on){
  if(on){
    document.body.classList.add('dark');
    themeToggle.textContent='üåû';
  } else {
    document.body.classList.remove('dark');
    themeToggle.textContent='üåô';
  }
}

document.getElementById('themeToggle').onclick=()=>{
  setDark(!document.body.classList.contains('dark'));
};

document.getElementById('themeToggleSide').onclick=()=>{
  setDark(!document.body.classList.contains('dark'));
};

document.querySelectorAll('.palette-item').forEach(btn=>{
  btn.onclick=()=>{
    document.body.dataset.palette=btn.dataset.palette;
  };
});

/* =========================== */
/* MENU LATERAL */
/* =========================== */

const sideMenu=document.getElementById('sideMenu');
const sideOverlay=document.getElementById('sideOverlay');

document.getElementById('menuToggle').onclick=()=>{
  sideMenu.classList.add('open');
  sideOverlay.classList.add('open');
};

document.getElementById('sideClose').onclick=()=>{
  sideMenu.classList.remove('open');
  sideOverlay.classList.remove('open');
};

sideOverlay.onclick=()=>{
  sideMenu.classList.remove('open');
  sideOverlay.classList.remove('open');
};

</script>
</body>
</html>
